<p align="center"><img src="data:image/png;base64,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"></p>

<p align="center">
<a href="https://packagist.org/packages/laravel/framework"><img src="https://poser.pugx.org/laravel/framework/license.svg" alt="License"></a>
</p>

## Sobre o Projeto

O Projeto disponibiliza uma maneira conveniente de cadastro e atualização de Produtos através de Planilhas (.xlsx), além de fornecer um endpoint para acompanhar o status de sua planilha. Após o upload do arquivo será verificado a integridade do seu documento, caso a validação seja confirmada sua planilha entrara na fila de processamento e receba um novo status após esse processo.


## LAYOUT DA PLANILHA - CASO DE USO

O modelo do documento para importação. [planilha modelo](https://s3.us-east-2.amazonaws.com/eaadk4yfoubad0tmoq3cert/certificados/products_teste_webdev_leroy.xlsx),

## AUTENTICAÇÃO

O Projeto tem o propósito de apresentação, não foi criada uma camada de autenticação [JWT](https://jwt.io/) ou [OAUTH2](https://github.com/thephpleague/oauth2-server) e o uso das API é livre.

## JSON RESPONSE

As APIs por padrão usam o formato JSON em suas respostas. Todas as respostas serão interceptadas pela camada de apresentação [Model–view–presenter (MVP)](https://pt.wikipedia.org/wiki/Model-view-presenter)



## API DE PRODUTO

| API                     | Verbo  |  Geral                                     |
|-------------------------|:------:|-------------------------------------------:|
| /api/v1/products        |  GET   | Lista de produtos                          |
| /api/v1/products/{lm}   |  GET   | Detalhes do Produto                        |
| /api/v1/products/{lm}   |  PUT   | Atualização de Produto                     |
| /api/v1/products/{lm}   |  DELETE| Remover Produto                            |
| /api/v1/products/import |  POST  | Cadastrar, Atualizar Produtos com Planilha |

## API DE ENDPOINT

| API                           | Verbo  |  Geral                                     |
|-------------------------------|:------:|-------------------------------------------:|
| /api/webhook/processed/{hash} |  GET   | Verificar status de um documento           |
| /api/webhook/inProgress       |  GET   | listagem de documentos em fila             |
| /api/webhook/processed        |  GET   | listagem de documentos já processdos       |

```php
php artisan route:list
```

![Rotas](https://s3.us-east-2.amazonaws.com/eaadk4yfoubad0tmoq3cert/certificados/rotas_leroy.png)


## CORS - Not allowed in CORS policy.
 
 - Postman: Headers adicione Origin:

![Origin](https://s3.us-east-2.amazonaws.com/eaadk4yfoubad0tmoq3cert/certificados/headers.png)

 - Na sua hospedagem edite o arquivo config\cors.php
    ```php
        return [   
        'supportsCredentials' => false,
        'allowedOrigins' => ['http://127.0.0.1:8000',
                         'ADICIONE AQUI'
                        ],
            'allowedOriginsPatterns' => [],
            'allowedHeaders' => ['*'],
            'allowedMethods' => ['*'],
            'exposedHeaders' => [],
            'maxAge' => 0
        ];
   ```

## LISTA DE TESTES - TDD

```php
public function testAPiList(){
//listagem de produtos
}
public function testAPiViewWithCategory(){
//Detalhes do Produto com category
}
public function testAPiViewWithoutCategory(){
//Detalhes do Produto sem category
}
public function testAPiProductNotFound(){
//Produto não encontrado
}
public function testAPiInsert(){
//Tentativa de cadastro - response HTTP/1.1 405
}
public function testAPiUpdate(){
//Atualizando Produto
}
public function testAPiUpdateEmptyAttributes(){
//Tentativa de atualização com attributos vazios.
}
public function testAPiUpdatepNotFound(){
//Tentativa de atualização produto não encontrado.
}
public function testAPiUpdateRequiredFields(){
//Tentativa de atualização e validação de campos.
}
public function testAPiDelete(){
//Removendo Produto
}
public function testAPiImportExcel(){
//Upload de arquivo(.xlsx) para cadastro e atualização de Produtos
}
public function testAPiImportTestWithImage(){
//Upload de imagen. response HTTP/1.1 422
}


```
